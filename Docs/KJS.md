# 김진수 개발일지

## 24.11.07
동기화 핸들러 작업 시작

**동기화가 대체 뭔데?**

동기화의 방식에 대해 고민을 많이함. 
주요 골자는
**주기적으로 해주는 방식이냐, 특정 이벤트때 해주는 방식이냐.**
**내 상태를 나에게만 전달하느냐, 상대에게도 전달해주느냐.**

초기의 생각은
내 상태는 클라이언트가 알아서 할테니까
상태 동기화는 내 상황을 모르는 상대에게 하는거구나.
하고 생각했음.

명세서의 enemy가 붙은 내역들을 모아서 보니
어차피 얘네가 상대에게 내 상태를 뿌려주는데? 하고 생각이듬.
내 상태를 동기화하는쪽으로 구조에 대한 생각이 바뀜

**동기화의 방식**에 대해서 찾아봄.

**Lockstep**: 모든 플레이어를 매 프레임마다 입력값을 동기화하는 방식.
**Delayed Synchronization**: 모든 이벤트를 기록하고, 일정시간마다 동기화 해주는 방식
**Client Prediction**: 클라가 자체적으로 게임 상태를 예측하고, 서버와의 동기화를 통해 예측결과를 보정하는 방식.
**State Synchronization**: 게임 상태를 직접 동기화하는 방식. 

찾아보니 스테이트 싱크 방식이 나옴.
스테이트 싱크 방식은 서버가 주기적으로 또는 이벤트 기반으로 모든 클라이언트에 현재 상태를 전송합니다.
...??? 둘다 가능해요~ 같은 느낌의 결과.

우선은 타워디펜스가 상대적으로 정적인 게임이라는 생각 하에,
특정 핸들러(타워구매,몬스터 사망,넥서스 피격)후 호출이 되도록 구현.
필요하다면, 인터벌로 주기적으로도 갱신하도록 구현해야하지 않을까. 




